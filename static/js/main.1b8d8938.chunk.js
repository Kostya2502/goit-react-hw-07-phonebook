(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{13:function(t,e,n){t.exports={form:"ContactForm_form__2Zho_",label:"ContactForm_label__2TITa",input:"ContactForm_input__R5Q7v",button:"ContactForm_button__1xLou",warn:"ContactForm_warn__1X3o2"}},23:function(t,e,n){t.exports={item:"ContactList_item__1yTs2",button:"ContactList_button__em0FU",enter:"ContactList_enter__lyugf",enterActive:"ContactList_enterActive__OGe3x",exit:"ContactList_exit__358gR",exitActive:"ContactList_exitActive__1yZZw"}},37:function(t,e,n){t.exports={enter:"Filter_enter__1pTd8",enterActive:"Filter_enterActive__1CMMS",exit:"Filter_exit__3xhvW",exitActive:"Filter_exitActive__2H-88"}},38:function(t,e,n){t.exports={appear:"App_appear__3IMmz",appearActive:"App_appearActive__12c5n"}},52:function(t,e,n){},77:function(t,e,n){},96:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),r=n(15),o=n.n(r),u=(n(52),n(14)),i=n(13),s=n.n(i),b=n(43),j=n(7),l=n(21),O=function(t){return t.contacts.items},p=function(t){return t.contacts.filter},f=function(t){return t.contacts.loading},m=Object(l.a)(O,p,(function(t,e){var n=e.toLocaleLowerCase();return t.filter((function(t){return t.name.toLocaleLowerCase().includes(n)}))})),d=n(4),h=n.n(d),x=n(12),_=n(20),v=n(22),C=n.n(v),y=n(6),g=Object(y.b)("contact/addContactRequest"),w=Object(y.b)("contact/addContactSuccess"),F=Object(y.b)("contact/addContactError"),k=Object(y.b)("contact/getContactsRequest"),N=Object(y.b)("contact/getContactsSuccess"),L=Object(y.b)("contact/getContactsError"),A=Object(y.b)("contact/deleteContactRequest"),S=Object(y.b)("contact/deleteContactSuccess"),T=Object(y.b)("contact/deleteContactError"),q=Object(y.b)("contact/changeFilter");function E(){var t=Object(b.a)(),e=t.register,n=t.handleSubmit,r=t.errors,o=Object(a.useState)(""),i=Object(u.a)(o,2),l=i[0],p=i[1],f=Object(a.useState)(""),m=Object(u.a)(f,2),d=m[0],h=m[1],x=Object(j.c)(),v=Object(j.d)(O),y=function(){p(""),h("")},k=function(t){t.preventDefault();var e=t.currentTarget,n=e.name,c=e.value;switch(n){case"name":p(c);break;case"number":h(c)}};return Object(c.jsxs)("form",{onSubmit:n((function(){var t,e;if(v.map((function(t){return t.name.toLocaleLowerCase()})).includes(l.toLocaleLowerCase()))return y(),alert("".concat(l," is already in contacts!"));x((t=l,e=d,function(n){var c={name:t,number:e};n(g()),C.a.post("".concat("https://hw7-phonebook-default-rtdb.firebaseio.com/","/contacts.json"),c).then((function(t){var e=t.data;return n(w(Object(_.a)(Object(_.a)({},c),{},{id:e.name})))})).catch((function(t){return n(F(t))}))})),y()})),className:s.a.form,children:[Object(c.jsxs)("label",{className:s.a.label,children:["Name:",Object(c.jsx)("input",{type:"text",name:"name",value:l,placeholder:"enter name",onChange:k,className:s.a.input,ref:e({required:!0})})]}),r.name&&"required"===r.name.type&&Object(c.jsx)("p",{className:s.a.warn,children:"This is required "}),Object(c.jsxs)("label",{className:s.a.label,children:["Number:",Object(c.jsx)("input",{type:"tel",name:"number",value:d,placeholder:"enter number",ref:e({required:!0,pattern:/^[0-9]+$/gm}),onChange:k,className:s.a.input})]}),r.number&&"required"===r.number.type&&Object(c.jsx)("p",{className:s.a.warn,children:"This is required "}),r.number&&"pattern"===r.number.type&&Object(c.jsx)("p",{className:s.a.warn,children:"There must be numbers"}),Object(c.jsx)("button",{type:"submit",className:s.a.button,children:"Add contact"})]})}var R,I,M=n(98),Z=n(97),B=n(23),D=n.n(B),J=(n(77),function(){var t=Object(j.c)(),e=Object(j.d)(m);Object(a.useEffect)((function(){t(function(){var t=Object(x.a)(h.a.mark((function t(e){var n,c,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(k()),t.prev=1,t.next=4,C.a.get("".concat("https://hw7-phonebook-default-rtdb.firebaseio.com/","/contacts.json"));case 4:n=t.sent,c=n.data,a=Object.keys(c).map((function(t){return Object(_.a)(Object(_.a)({},c[t]),{},{id:t})})),e(N(a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e(L(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}())}),[]);var n=function(e){return t(function(t){return function(){var e=Object(x.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(A()),e.prev=1,e.next=4,C.a.delete("".concat("https://hw7-phonebook-default-rtdb.firebaseio.com/","/contacts/").concat(t,".json"));case 4:n(S(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(T(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}(e))};return Object(c.jsx)(M.a,{component:"ul",children:e.map((function(t){var e=t.id,a=t.name,r=t.number;return Object(c.jsx)(Z.a,{timeout:400,classNames:D.a,children:Object(c.jsxs)("li",{className:D.a.item,children:[Object(c.jsxs)("p",{children:[a,": ",r]}),Object(c.jsx)("button",{type:"button",onClick:function(){return n(e)},className:D.a.button,children:"Delete"})]},e)},e)}))})}),z=n(37),G=n.n(z),H=Object(j.b)((function(t){return{value:p(t)}}),(function(t){return{OnFilterContacts:function(e){return t(q(e.currentTarget.value))}}}))((function(t){var e=t.value,n=t.OnFilterContacts;return Object(c.jsx)("div",{classNames:G.a,children:Object(c.jsxs)("label",{children:["Find contacts by name:",Object(c.jsx)("input",{type:"text",value:e,onChange:n,placeholder:"Search contact"})]})})})),P=n(38),Q=n.n(P),U=n(39),W=n(40),X=n(44),$=n(42),K=n(41),V=n.n(K),Y=function(t){Object(X.a)(n,t);var e=Object($.a)(n);function n(){return Object(U.a)(this,n),e.apply(this,arguments)}return Object(W.a)(n,[{key:"render",value:function(){return Object(c.jsx)(V.a,{type:"TailSpin",color:"#00BFFF",height:100,width:100,timeout:3e3,style:{margin:"auto"}})}}]),n}(a.Component),tt=function(){var t=Object(j.d)(p),e=Object(j.d)(O),n=Object(j.d)(f);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Z.a,{in:!0,classNames:Q.a,appear:!0,timeout:1e3,unmountOnExit:!0,children:Object(c.jsx)("h1",{children:"Phonebook"})}),Object(c.jsx)(E,{}),Object(c.jsx)("h2",{children:"Contacts"}),(t.length>0||e.length>1)&&Object(c.jsx)(H,{}),n&&Object(c.jsx)(Y,{}),Object(c.jsx)(J,{})]})},et=n(2),nt=n(5),ct=n(11),at=Object(y.c)([],(R={},Object(et.a)(R,w,(function(t,e){var n=e.payload;return[].concat(Object(nt.a)(t),[n])})),Object(et.a)(R,N,(function(t,e){return e.payload})),Object(et.a)(R,S,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),R)),rt=Object(y.c)("",Object(et.a)({},q,(function(t,e){return e.payload}))),ot=Object(y.c)(!1,(I={},Object(et.a)(I,g,(function(){return!0})),Object(et.a)(I,w,(function(){return!1})),Object(et.a)(I,F,(function(){return!1})),Object(et.a)(I,k,(function(){return!0})),Object(et.a)(I,N,(function(){return!1})),Object(et.a)(I,L,(function(){return!1})),Object(et.a)(I,A,(function(){return!0})),Object(et.a)(I,S,(function(){return!1})),Object(et.a)(I,T,(function(){return!1})),I)),ut=Object(ct.c)({items:at,filter:rt,loading:ot}),it=Object(y.a)({reducer:{contacts:ut}});o.a.render(Object(c.jsx)(j.a,{store:it,children:Object(c.jsx)(tt,{})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.1b8d8938.chunk.js.map